<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="è§£è¡£åˆä½œèŒ¶ç“œå®¢ï¼Œå€šæ§›åŒçœ‹çƒŸé›¨å³°">
    

    <!--Author-->
    
        <meta name="author" content="èŒ¶ç“œå®¢">
    

    <!-- Title -->
    
    <title>ç¬¬ä¸€ç«  Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡ | èŒ¶ç“œå®¢</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Noto+Serif:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- jQuery -->
    <script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="èŒ¶ç“œå®¢" type="application/atom+xml">
</head>

<body>

    <!-- Content -->
    <section class="article-container">
    <!-- Back Home -->
    <a class="nav-back" href="/">
    <i class="fa fa-puzzle-piece"></i>
</a>

        <!-- Page Header -->
        <header class="intro-header">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                        <div class="post-heading">
                            <h1>
                                ç¬¬ä¸€ç«  Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Post Content -->
        <article>
            <div class="container">
                <div class="row">
                    <!-- Post Main Content -->
                    <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                        <h1 id="1-3-æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡"><a href="#1-3-æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡" class="headerlink" title="1.3 æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡"></a>1.3 æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡</h1><p>è¿™ä¸‰ç§æ•°æ®ç±»å‹ï¼Œåœ¨åº•å±‚ï¼ŒåŸå§‹æ•°æ®æœ‰ç€ç›¸åŒçš„å†…å­˜ç»“æ„ï¼›åœ¨ä¸Šå±‚ï¼Œå› ä¸ºè¯­æ³•çš„é™åˆ¶è€Œæœ‰ç€ä¸åŒçš„è¡Œä¸ºè¡¨ç°ã€‚</p>
<ul>
<li><p>æ•°ç»„æ˜¯ä¸€ç§å€¼ç±»å‹ï¼Œè™½ç„¶æ•°ç»„çš„å…ƒç´ å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯æ•°ç»„æœ¬èº«çš„èµ‹å€¼å’Œå‡½æ•°ä¼ å‚éƒ½æ˜¯ä»¥æ•´ä½“å¤åˆ¶çš„æ–¹å¼å¤„ç†ã€‚</p>
</li>
<li><p>å­—ç¬¦ä¸²åº•å±‚æ˜¯å¯¹åº”çš„å­—èŠ‚æ•°ç»„ï¼Œä½†æ˜¯å­—ç¬¦ä¸²çš„åªè¯»å±æ€§ç¦æ­¢äº†ç¨‹åºä¸­å¯¹åº•å±‚å­—èŠ‚æ•°ç»„å…ƒç´ çš„ä¿®æ”¹ã€‚è€Œä¸”å­—ç¬¦ä¸²èµ‹å€¼åªæ˜¯å¤åˆ¶äº†æ•°æ®åœ°å€å’Œå¯¹åº”çš„é•¿åº¦ã€‚</p>
</li>
<li><p>åˆ‡ç‰‡çš„ç»“æ„å’Œå­—ç¬¦ä¸²çš„ç»“æ„ç›¸ä¼¼ï¼Œä½†æ˜¯è§£é™¤äº†åªè¯»é™åˆ¶ã€‚åº•å±‚ç»“æ„å¤šäº†<code>cap</code>å­—æ®µï¼Œç”¨äºè¡¨ç¤ºåˆ‡ç‰‡çš„å®¹é‡ã€‚</p>
</li>
</ul>
<p><em>Goè¯­è¨€çš„èµ‹å€¼å’Œå‡½æ•°ä¼ å‚è§„åˆ™å¾ˆç®€å•ï¼Œé™¤é—­åŒ…å‡½æ•°ä»¥å¼•ç”¨çš„æ–¹å¼å¯¹å¤–éƒ¨å˜é‡è®¿é—®ä¹‹å¤–ï¼Œå…¶ä»–èµ‹å€¼å’Œå‡½æ•°ä¼ å‚éƒ½æ˜¯ä»¥ä¼ å€¼çš„æ–¹å¼å¤„ç†ã€‚</em></p>
<h2 id="1-3-1-æ•°ç»„"><a href="#1-3-1-æ•°ç»„" class="headerlink" title="1.3.1 æ•°ç»„"></a>1.3.1 æ•°ç»„</h2><p>æ•°ç»„æ˜¯ä¸€ä¸ªç”±å›ºå®šé•¿åº¦çš„ç‰¹å®šç±»å‹å…ƒç´ ç»„æˆçš„åºåˆ—ï¼Œä¸€ä¸ªæ•°ç»„ç”±é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ ç»„æˆã€‚</p>
<p>æ•°ç»„çš„é•¿åº¦æ˜¯æ•°ç»„ç±»å‹çš„ç»„æˆéƒ¨åˆ†ï¼Œä¸åŒé•¿åº¦æˆ–ä¸åŒç±»å‹çš„æ•°æ®ç»„æˆçš„æ•°ç»„éƒ½æ˜¯ä¸åŒçš„ç±»å‹ã€‚</p>
<p>æ•°ç»„å®šä¹‰æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a [3]int	&#x2F;&#x2F;[0, 0, 0]</span><br><span class="line">var b &#x3D; [...]int&#123;1, 2, 3&#125;	&#x2F;&#x2F;[1, 2, 3]</span><br><span class="line">var c &#x3D; [...]int&#123;2:3, 1:2&#125;	&#x2F;&#x2F;[0, 2, 3]</span><br><span class="line">var d &#x3D; [...]int&#123;1, 2, 4:5, 6&#125;	&#x2F;&#x2F;[1, 2, 0, 0, 5, 6]</span><br></pre></td></tr></table></figure>
<p>æ•°ç»„æ˜¯å€¼è¯­ä¹‰ï¼Œä¸€ä¸ªæ•°ç»„å˜é‡å³æ•´ä¸ªæ•°ç»„ï¼Œä¸èƒ½éšå¼åœ°æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ã€‚</p>
<p>å¯ä»¥ä¼ é€’ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œæ•°ç»„æŒ‡é’ˆåœ¨ä½¿ç”¨ä¸Šä¸æ•°ç»„å˜é‡å·®åˆ«ä¸å¤§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; [...]int&#123;1, 2, 3&#125;</span><br><span class="line">var b &#x3D; &amp;a</span><br><span class="line"></span><br><span class="line">fmt.Println(a[0])</span><br><span class="line">fmt.Println(b[0])</span><br><span class="line"></span><br><span class="line">for i :&#x3D; range a &#123;</span><br><span class="line">    fmt.Println(i, a[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for i, v :&#x3D; range b &#123;</span><br><span class="line">    fmt.Println(i, v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;æ•ˆç‡æ€§èƒ½æ¯”for rangeå·®</span><br><span class="line">for i :&#x3D; 0; i &lt; len(a); i++ &#123;</span><br><span class="line">    fmt.Println(i, a[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨for rangeæ–¹å¼è¿­ä»£ï¼Œè¿˜å¯ä»¥å¿½ç•¥è¿­ä»£æ—¶çš„ä¸‹æ ‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var times [5][0]int</span><br><span class="line">for range times &#123;</span><br><span class="line"> fmt.Println(&quot;hello&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>times</code>æ˜¯ä¸€ä¸ª[5][0]intçš„äºŒç»´æ•°ç»„ï¼Œå³<code>[[], [], [], [], []]</code>ï¼Œæ•´ä¸ªæ•°ç»„çš„å†…å­˜å¤§å°ä¸º0ã€‚</p>
<p>æ•°ç»„çš„ç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œæ¥å£ã€ç»“æ„ä½“ã€å‡½æ•°éƒ½è¡Œã€‚</p>
<p>é•¿åº¦ä¸º0çš„æ•°ç»„ä¸å ç©ºé—´ï¼Œå¯ä»¥ç”¨äºå ä½æˆ–è€…ç±»å‹å£°æ˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c1 :&#x3D; make(chan [0]int)</span><br><span class="line">&#x2F;&#x2F;ç­‰åŒäº</span><br><span class="line">&#x2F;&#x2F;c1 :&#x3D; make(chan sttruct&#123;&#125;)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>fmt.Printf</code>æ‰“å°æ•°ç»„çš„ç±»å‹å’Œè¯¦ç»†ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var b &#x3D; [...]int&#123;1, 2, 3&#125;</span><br><span class="line">fmt.Printf(&quot;b: %T\n&quot;, b)	&#x2F;&#x2F;b: [3]int</span><br><span class="line">fmt.Printf(&quot;b: %#v\n&quot;, b)	&#x2F;&#x2F;b: [3]int&#123;1, 2, 3&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1-3-2-å­—ç¬¦ä¸²"><a href="#1-3-2-å­—ç¬¦ä¸²" class="headerlink" title="1.3.2 å­—ç¬¦ä¸²"></a>1.3.2 å­—ç¬¦ä¸²</h2><p>å­—ç¬¦ä¸²æ˜¯ä¸å¯æ”¹å˜çš„å­—ç¬¦åºåˆ—ã€‚</p>
<p>Goè¯­è¨€å­—ç¬¦ä¸²çš„åº•å±‚ç»“æ„åœ¨<code>reflect.StringHeader</code>ä¸­å®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type StringHeader struct &#123;</span><br><span class="line">    Data uintptr</span><br><span class="line">    Len int</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºå­—ç¬¦ä¸²ï¼Œä¸å¯¹åº”çš„byteæ•°ç»„çš„åº•å±‚æ•°æ®å†…å­˜ç»“æ„æ˜¯ä¸€è‡´çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s :&#x3D; &quot;hello, world&quot;</span><br><span class="line"></span><br><span class="line">var data &#x3D; [...]byte &#123;</span><br><span class="line">    &#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;w&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²æ”¯æŒåˆ‡ç‰‡æ“ä½œï¼Œä¸åŒä½ç½®çš„åˆ‡ç‰‡åº•å±‚è®¿é—®çš„æ˜¯åŒä¸€å—å†…å­˜æ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s :&#x3D; &quot;hello, world&quot;</span><br><span class="line"></span><br><span class="line">hello :&#x3D; s[:5]</span><br><span class="line">world :&#x3D; s[7:]</span><br><span class="line"></span><br><span class="line">s1 :&#x3D; &quot;hello, world&quot;[:5]	&#x2F;&#x2F;&quot;hello, world&quot;[:5]ä¸s[:5]æŒ‡å‘çš„æ˜¯ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡</span><br><span class="line">s2 :&#x3D; &quot;hello, world&quot;[7:]</span><br></pre></td></tr></table></figure>
<p>é™¤äº†ä½¿ç”¨<code>len</code>å‡½æ•°è·å–å­—ç¬¦ä¸²é•¿åº¦ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>reflect.StringHeader</code>ç»“æ„è®¿é—®å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(&quot;len(s):&quot;, (*reflect.StringHeader)(unsafe.Pointer(&amp;s)).Len)</span><br></pre></td></tr></table></figure>
<h2 id="1-3-3-åˆ‡ç‰‡"><a href="#1-3-3-åˆ‡ç‰‡" class="headerlink" title="1.3.3 åˆ‡ç‰‡"></a>1.3.3 åˆ‡ç‰‡</h2><p>åˆ‡ç‰‡å¯ä»¥è¯´æ˜¯ä¸€ç§ç®€åŒ–ç‰ˆçš„åŠ¨æ€æ•°ç»„ã€‚åº•å±‚æ•°æ®ç»“æ„<code>reflect.SliceHeader</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type SliceHeader struct &#123;</span><br><span class="line">    Data uintptr</span><br><span class="line">    Len int</span><br><span class="line">    Cap int</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Cap</code>è¡¨ç¤ºåˆ‡ç‰‡æŒ‡å‘çš„å†…å­˜ç©ºé—´çš„æœ€å¤§å®¹é‡ï¼Œä¼šæŒ‰ç…§è§„åˆ™å®ç°è‡ªåŠ¨æ‰©å……ã€‚</p>
<p>åˆ‡ç‰‡çš„å®šä¹‰æ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var (</span><br><span class="line">    a []int	&#x2F;&#x2F;nilåˆ‡ç‰‡ï¼Œå’Œnilç›¸ç­‰</span><br><span class="line">    b &#x3D; []int&#123;&#125;	&#x2F;&#x2F;ç©ºåˆ‡ç‰‡</span><br><span class="line">    c &#x3D; []int&#123;1, 2, 3&#125;	&#x2F;&#x2F;æœ‰3ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenå’Œcapéƒ½ä¸º3</span><br><span class="line">    d &#x3D; c[:2]	&#x2F;&#x2F;æœ‰2ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenä¸º2ï¼Œcapä¸º3</span><br><span class="line">    e &#x3D; c[0:2:cap(c)]	&#x2F;&#x2F;æœ‰2ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenä¸º2ï¼Œcapä¸º3</span><br><span class="line">    f &#x3D; c[:0]	&#x2F;&#x2F;æœ‰0ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenä¸º0ï¼Œcapä¸º3</span><br><span class="line">    g &#x3D; make([]int, 3)	&#x2F;&#x2F;æœ‰ä¸‰ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenå’Œcapéƒ½ä¸º3</span><br><span class="line">    h &#x3D; make([]int, 2, 3)	&#x2F;&#x2F;æœ‰2ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenä¸º2ï¼Œcapä¸º3</span><br><span class="line">    i &#x3D; make([]int, 0, 3)	&#x2F;&#x2F;æœ‰0ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼Œlenä¸º0ï¼Œcapä¸º3</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><strong>æ·»åŠ åˆ‡ç‰‡å…ƒç´ </strong></p>
<p>ä½¿ç”¨å†…ç½®çš„<code>append</code>å‡½æ•°ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>append</code>å‡½æ•°æœ‰å¯èƒ½å¯¼è‡´é‡æ–°åˆ†é…å†…å­˜ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var a []int</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åˆ‡ç‰‡å°¾éƒ¨æ·»åŠ Nä¸ªå…ƒç´ </span><br><span class="line">a &#x3D; append(a, 1)</span><br><span class="line">a &#x3D; append(a, 2, 3)</span><br><span class="line">a &#x3D; append(a, []int&#123;5, 6&#125;...)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åˆ‡ç‰‡å¤´éƒ¨æ·»åŠ Nä¸ªå…ƒç´ </span><br><span class="line">a &#x3D; append([]int&#123;0&#125;, a...)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åˆ‡ç‰‡ä¸­é—´æ·»åŠ Nä¸ªå…ƒç´ </span><br><span class="line">a &#x3D; append(a[:4], append([]int&#123;4&#125;, a[4:]...)...)</span><br></pre></td></tr></table></figure>
<p>åœ¨åˆ‡ç‰‡ä¸­é—´æ·»åŠ å…ƒç´ æ—¶ï¼Œ<code>append</code>ä¼šåˆ›å»ºä¸´æ—¶åˆ‡ç‰‡ã€‚å¯ä½¿ç”¨<code>copy</code>å‡½æ•°å’Œ<code>append</code>å‡½æ•°ç»„åˆï¼Œé¿å…åˆ›å»ºä¸´æ—¶åˆ‡ç‰‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; append(a, 0)	&#x2F;&#x2F;æ‰©å……ç©ºé—´ï¼Œéœ€è¦æ’å…¥Nä¸ªå°±æ‰©å……N</span><br><span class="line">copy(a[5:], a[4:])	&#x2F;&#x2F;a[4:]åç§»ä¸€ä¸ªä½ç½®</span><br><span class="line">a[4] &#x3D; 4</span><br></pre></td></tr></table></figure>
<p><strong>åˆ é™¤åˆ‡ç‰‡å…ƒç´ </strong></p>
<p>åˆ é™¤å¤´éƒ¨å’Œå°¾éƒ¨çš„å…ƒç´ ï¼Œå¯ç›´æ¥é‡æ–°èµ‹å€¼èŒƒå›´å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a &#x3D; []int&#123;1, 2, 3&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åˆ é™¤å°¾éƒ¨</span><br><span class="line">a &#x3D; a[:len(a)-1]</span><br><span class="line">a &#x3D; a[:len(a)-N]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;åˆ é™¤å¤´éƒ¨</span><br><span class="line">a &#x3D; a[1:]</span><br><span class="line">a &#x3D; a[N:]</span><br></pre></td></tr></table></figure>
<p>åˆ é™¤å¤´éƒ¨å…ƒç´ æˆ–ä¸­é—´å…ƒç´ ä¹Ÿå¯ä»¥ç”¨<code>append</code>å‡½æ•°æˆ–<code>copy</code>å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a :&#x3D; []int&#123;1, 2, 3&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;å¤´éƒ¨å…ƒç´ </span><br><span class="line">a &#x3D; append(a[:0], a[1:]...)</span><br><span class="line">a &#x3D; a[:copy(a, a[1:])]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;ä¸­é—´å…ƒç´ </span><br><span class="line">a &#x3D; append(a[:i], a[i+1:]...)</span><br><span class="line">a &#x3D; a[:i + copy(a[i], a[i+1:])]</span><br></pre></td></tr></table></figure>
<p>åˆ‡ç‰‡é«˜æ•ˆæ“ä½œçš„è¦ç‚¹æ˜¯é™ä½å†…å­˜åˆ†é…çš„æ¬¡æ•°ï¼Œå°½é‡ä¿è¯<code>append</code>å‡½æ•°æ“ä½œä¸ä¼šè¶…å‡º<code>cap</code>çš„å®¹é‡ã€‚</p>
<p>åˆ‡ç‰‡ä½¿ç”¨ä¸­ï¼Œå‡å¦‚åªä½¿ç”¨äº†åˆ‡ç‰‡çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œåº”å½“æ‹·è´åˆ°ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œé¿å…åˆ‡ç‰‡åº•å±‚æ•°æ®çš„é•¿æœŸå¼•ç”¨ã€‚</p>
<p><strong>åˆ‡ç‰‡ç±»å‹å¼ºåˆ¶è½¬æ¢</strong></p>
<p>é€šè¿‡åˆ‡ç‰‡åº•å±‚ç»“æ„<code>reflect.SliceHeader</code>æ¥åšæŒ‡é’ˆçš„å¼ºåˆ¶èµ‹å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a :&#x3D; []float64&#123;&#125;</span><br><span class="line">c :&#x3D; []int&#123;&#125;</span><br><span class="line"></span><br><span class="line">aHdr :&#x3D; (*reflect.SliceHeader)(unsafe.Pointer(&amp;a))</span><br><span class="line">cHdr :&#x3D; (*reflect.SliceHeader)(unsafe.Pointer(&amp;c))</span><br><span class="line"></span><br><span class="line">*cHdr &#x3D; *aHdr</span><br><span class="line"></span><br></pre></td></tr></table></figure>


                            <!-- Meta -->
                            <div class="post-meta">
                                <hr>
                                <br>
                                <div class="post-tags">
                                    
                                        

<a href="/tags/ã€ŠGoè¯­è¨€é«˜çº§ç¼–ç¨‹ã€‹/">#ã€ŠGoè¯­è¨€é«˜çº§ç¼–ç¨‹ã€‹</a>


                                            
                                </div>
                                <div class="post-date">
                                    
                                        2021-04-20
                                    
                                </div>
                            </div>
                    </div>

                    <!-- Comments -->
                    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                        <!-- Disqus Comments -->


                    </div>
                </div>
            </div>
        </article>
</section>

<!-- Image viewer-->

    <!-- Custom picture view-->
    <link href="/css/viewer.min.css" rel="stylesheet" />
    <script
      src="/js/viewer.min.js"
      type="text/javascript"
      charset="utf-8"
    ></script>
    
    <script type="text/javascript">
      // set image viewer
      Viewer.setDefaults({
        zoomRatio: [0.5],
        navbar: false,
        toolbar: false,
        button: false,
        title: [2, (image, imageData) => `${image.alt}`],
        show: function() {
          this.viewer.zoomTo(0.5);
        }
      });
      var imageList = document.getElementsByTagName("img");
      Array.prototype.forEach.call(imageList, element => {
        var viewer = new Viewer(element);
      });
    </script>

    

<!-- TOC -->

    <aside id="article-toc" role="navigation" class="fixed">
        <div id="article-toc-inner">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-3-%E6%95%B0%E7%BB%84%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E5%88%87%E7%89%87"><span class="toc-text">1.3 æ•°ç»„ã€å­—ç¬¦ä¸²å’Œåˆ‡ç‰‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-1-%E6%95%B0%E7%BB%84"><span class="toc-text">1.3.1 æ•°ç»„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-2-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">1.3.2 å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-3-%E5%88%87%E7%89%87"><span class="toc-text">1.3.3 åˆ‡ç‰‡</span></a></li></ol></li></ol>
        </div>
    </aside>

    <!-- Scripts -->
    <script type="text/javascript">
    console.log("Â© zchen9 ğŸ™‹ 2015-" + new Date().getFullYear());
</script>
  
    <!-- Google Analytics -->
    

    <!-- Service Worker -->
    <!-- if using service worker -->

    
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>

</html>